<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="UTF-8">
	<title>AI 支援照明ロボット UI</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../static/style.css">
</head>
<body>
	<header>
		<h1>AI 支援学習照明コントローラー</h1>
	</header>
	<div id="visual-feedback-area">
		<h2 id="status-text">ロボットの状態：オフライン</h2>
		<div id="active-visual" class="light-off">
			<img id="stop-motion-image" src="../static/photo/77f0f9365a72eb7044602d9221f44ebb.jpeg" alt="animation">
		</div>
	</div>
	<div id="control-panel">
		<p>集中度スコア: <span id="concentration">N/A</span></p>
		<p id="timer-display">経過時間: 00:00:00</p>
		<button id="show-study-log-button">📚 勉強記録</button>
		<h3>基本操作</h3>
		<button id="power-toggle" data-status="off">電源をオンにする</button>
		<button id="open-settings-button">💡 照明設定を開く</button>
		<button id="open-robot-move-button">🤖 ロボット動作を開く</button>
	</div>
	<footer>
		<p>※ サーバー起動が必要です</p>
	</footer>
	<div id="setting-modal" class="hidden">
		<div class="modal-content">
			<div id="brightness-control">
				<label for="brightness-slider-modal"> 明るさ：<span id="brightness-value-modal">50</span>% </label>
				<div class="slider-group">
					<div class="icon-min">☀︎</div>
					<input type="range" id="brightness-slider-modal" min="0" max="100" value="50">
					<div class="icon-max">🔆</div>
				</div>
			</div>
			<div id="color-controls-modal">
				<h3>色相環</h3>
				<div id="picker-container"></div>
				<button id="reset-color-button">色をリセット</button>
			</div>
		</div>
	</div>
	<div id="robot-move-modal" class="hidden">
		<div class="modal-content">
			<h2>ロボット操作リモコン</h2>
			<div class="robot-status-visual">
				<img id="robot-status-image" src="../static/photo/arm.jpg" alt="ロボットの現在の状態">
			</div>
			<p>手動でアームの動作を制御します。</p>
			<div id="arm-controls">
				<div class="control-group">
					<h3>アーム操作</h3>
					<button id="arm-move-up" class="control-button">▲</button>
					<button id="arm-move-home" class="control-button">●</button>
					<button id="arm-move-down" class="control-button">▼</button>
				</div>
				<div class="control-group">
					<h3>別モータ</h3>
					<button id="wrist-motor-up" class="control-button">▲</button>
					<button id="wrist-motor-home" class="control-button">●</button>
					<button id="wrist-motor-down" class="control-button">▼</button>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/vanilla-picker@2.12.3/dist/vanilla-picker.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js" defer></script>
	<script>
		const LOCAL_PC_IP = '{{ local_ip }}'; 
	</script>
	<script type="module" src="../static/api.js" defer></script>
	<script type="module" src="../static/state.js" defer></script>
	<script type="module" src="../static/main.js" defer></script>
	<script type="module" src="../static/lightingModal.js" defer></script>
	<script type="module" src="../static/robotModal.js" defer></script>
	<script src="../static/animation.js" defer></script>
	<!-- <script src="../static/illuminatingrobot.js" defer></script> -->
	<script src="../static/animation.js" defer></script>
</body>
</html>